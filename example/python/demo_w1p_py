import sys
sys.path.append('.')
from address_planner import *


reg_bank_B = RegSpace(name='regbank_w1p',size=8*KB,description='write one pulse test',bus_width=16,software_interface='apb')

reg_B = Register(name='internal_reg',description='reg0',reg_type=Normal)
reg_B.add_incr(ExternalField(name='w1p',bit=10,sw_access=WriteOnePulse, hw_access=ReadOnly,init_value=0,description='fied0, software write one pulse.' ))
reg_B.add_incr(ExternalField(name='w0p',bit=10,sw_access=WriteZeroPulse, hw_access=ReadOnly,init_value=0,description='fied0, software write one pulse.' ))

reg_bank_B.add(reg_B,0x4,'internal_reg')
reg_bank_B.generate('build', report_dv=True)